!function(e){e.ClassyNotty=function(t){function o(e){var t=[[2,"One second","1 second from now"],[60,"seconds",1],[120,"One minute","1 minute from now"],[3600,"minutes",60],[7200,"One hour","1 hour from now"],[86400,"hours",3600],[172800,"One day","tomorrow"],[604800,"days",86400],[1209600,"One week","next week"],[2419200,"weeks",604800],[4838400,"One month","next month"],[29030400,"months",2419200],[58060800,"One year","next year"],[290304e4,"years",29030400],[580608e4,"One century","next century"],[580608e5,"centuries",290304e4]],o=(new Date-e)/1e3,n="ago",i=1;0>o&&(o=Math.abs(o),n="from now",i=1);for(var a,s=0;a=t[s++];)if(o<a[0])return"string"==typeof a[2]?a[i]:Math.floor(o/a[2])+" "+a[1];return e}var n,i,a,s,r,d,l;if(t=e.extend({title:void 0,content:void 0,timeout:0,img:void 0,showTime:!0,click:void 0},t),n=e("#nottys"),n.length||(n=e("<div>",{id:"nottys"}).appendTo(document.body)),i=e("<div>"),i.addClass("notty pop"),a=e("<div>",{click:function(){e(this).parent().removeClass("pop").addClass("remove").delay(300).queue(function(){e(this).clearQueue(),e(this).remove()})},touchstart:function(){e(this).parent().removeClass("pop").addClass("remove").delay(300).queue(function(){e(this).clearQueue(),e(this).remove()})}}),a.addClass("hide"),a.html("Masquer la notification"),void 0!=t.img){if(s=e("<div>",{style:"background: url('http://lh6.googleusercontent.com/-y2ZIEXonG7o/AAAAAAAAAAI/AAAAAAAABTE/Zl-mami5WwQ/s60-c/photo.jpg')"}),s.addClass("img"),d=e("<div class='left'>"),r=e("<div class='right'>"),void 0!=t.title)var c="<h2>"+t.title+"</h2>";else var c="";if(void 0!=t.content)var u=t.content;else var u="";l=e("<div>",{html:c+u}),l.addClass("inner"),l.appendTo(r),s.appendTo(d),d.appendTo(i),r.appendTo(i)}else{if(void 0!=t.title)var c="<h2>"+t.title+"</h2>";else var c="";if(void 0!=t.content)var u=t.content;else var u="";l=c+u,i.html(l)}if(a.appendTo(i),0!=t.showTime){var m=Number(new Date);timeHTML=e("<div>",{html:"<strong>"+o(m)+"</strong> ago"}),timeHTML.addClass("time").attr("title",m),timeHTML.appendTo(void 0!=t.img?r:i),setInterval(function(){e(".time").each(function(){var t=e(this).attr("title");e(this).html("<strong>"+o(t)+"</strong> ago")})},4e3)}return i.hover(function(){a.show()},function(){a.hide()}),i.prependTo(n),i.show(),t.timeout&&setTimeout(function(){i.removeClass("pop").addClass("remove").delay(300).queue(function(){e(this).clearQueue(),e(this).remove()})},t.timeout),void 0!=t.click&&(i.addClass("click"),i.click(function(o){var n=e(o.target);n.is(".hide")||t.click.call(this)})),this}}(jQuery);
